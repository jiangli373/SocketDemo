<!DOCTYPE html>
<html>
<head>
    <title>Pull</title>
    <script src="/socket.io/socket.io.js"></script>
    <script src="javascripts/jquery-1.7.1.min.js"></script>
    <script>
        var socket = io.connect('http://localhost');
        //连接成功
        socket.on('connect', function () {
            console.log('connect');

        })
        //失去连接
        socket.on('disconnect', function () {
            console.log('disconnect');
        });
        //尝试连接，先于connect
        socket.on('connecting', function () {
            console.log('connecting');
        });

    </script>
</head>
<body>
<div id="app">
    <div><label>content:</label><input type="text" id="roomname"></div>
    <input type="button" value="submit" id="submit">
    <input type="button" value="switch" id="switch">
    <div id="content">

    </div>
</div>
<script>

    $(document).ready(function () {
        $("#submit").click(function () {
            socket.emit('submitRoomName', {roomname:$("#roomname").val()});
        });
        $("#switch").click(function () {
            socket.emit('switchRoom', {roomname:'hello'});
        });
        socket.on("showRoom", function (data) {
//            $("#content").empty();
            $("#content").append(data.msg+'<br>');
        });
    });

</script>
</body>
</html>