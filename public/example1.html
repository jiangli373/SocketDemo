<!DOCTYPE html>
<html>
<head>
    <title>Pull</title>
    <script src="/socket.io/socket.io.js"></script>
    <script src="javascripts/jquery-1.7.1.min.js"></script>
    <link href="stylesheets/style.css">
    <script>
        var socket = io.connect('http://localhost');
        //连接成功
        socket.on('connect', function () {
            console.log('connect');
        });
        //失去连接
        socket.on('disconnect', function () {
            console.log('disconnect');
        });
        //尝试连接，先于connect
        socket.on('connecting', function () {
            console.log('connecting');
        });
        function pullTime() {
            socket.emit('pull');
            socket.on('getTime', function (data) {
                 $("#app").empty();
                $("#app").append(data.currentTime);
            });
        }
    </script>
</head>
<body>
<div id="mainapp"><label>当期时间:</label><div id="app"></div></div>
<script>
    $(document).ready(function () {
        setInterval(pullTime, 1000);
    });

</script>
</body>
</html>